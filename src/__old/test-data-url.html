<!DOCTYPE html>
<html>
<head>
    <title>Test Data URL</title>
    <script src="fiximod-compat-standalone-fixed.js"></script>
</head>
<body>
    <button fx-action="data:text/plain,foo" fx-swap="innerHTML">Button 1</button>
    <script>
        document.addEventListener('fx:config', (evt) => {
            console.log('Config event:', evt.detail);
        });
        document.addEventListener('fx:before', (evt) => {
            console.log('Before event:', evt.detail);
        });
        document.addEventListener('fx:after', (evt) => {
            console.log('After event:', evt.detail);
            console.log('Response text:', evt.detail.cfg.text);
        });
        document.addEventListener('fx:swapped', (evt) => {
            console.log('Swapped event:', evt.detail);
            console.log('Button text now:', document.querySelector('button').innerText);
        });
        document.addEventListener('fx:error', (evt) => {
            console.error('Error event:', evt.detail);
        });
    </script>
</body>
</html>